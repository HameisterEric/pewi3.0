<html>
<head>

<style>
body{
overflow: hidden;
background-color: #000000;
}

#backImg {
position:absolute;
top:0px;
left:0px;
margin:0px;
padding:0px;
height:100% ;
width:4000px;
opacity: 0;

-webkit-transition-duration: 5s; /* Safari */
transition-duration: 5s;

}

#contentsHolder{
position:fixed;
margin:0px;
opacity: 0;
margin-top:-200px;
left:0%;
top:50%;

background-color: rgb(0,0,0);
width:100% ;
height:400px;
border-radius:0px;
border-top: 2px solid white;
border-bottom: 2px solid white;

-webkit-transition-duration: 1.3s; /* Safari */
transition-duration: 1.3s;
}

#pewiTitle{

position:absolute;
width:90px;
margin-left:-45px;
padding-left:1px;
left:50%;
top:40% ;

-webkit-transition-duration: 2s; /* Safari */
transition-duration: 2s;
}

.mainButton {
position:fixed;
background-color: rgb(0, 143, 179);;
width:300px;
border-radius:12px;
height:70px ;
color: white ;
padding:5px;
border: 2px solid white;
cursor:default;
font-family: 'Amatic SC', cursive;
text-align:center;
line-height: 160%;
color: #FFFFFF;
font-size: 45px ;
font-weight: bold;
margin-left:-150px;
margin-top:-35px;
top:50% ;
opacity: 0;

}

.mainButton:hover {
background-color:  #00b8e6;

}

#button1{
left:25%;
-webkit-transition-duration: 1.5s; /* Safari */
transition-duration: 1.5s;
}

#button2{
left:50%;
-webkit-transition-duration: 2.2s; /* Safari */
transition-duration: 2.2s;
}

#button3{
left:75%;
-webkit-transition-duration: 2.9s; /* Safari */
transition-duration: 2.9s;
}

#container{
position:absolute;
width:800px ;
height:600px ;
margin:0px ;
padding: 0px ;
margin-left:-400px ;
left:50% ;
margin-top:-300px;
top:50%;

}

#loadingTitle {
font-family: 'Amatic SC', cursive;
text-align:center;
line-height: 85%;
color: #FFFFFF;
font-size: 35px ;
font-weight: bold;

position:absolute;
width:60% ;
left:20%;
height:40px;
top:183px;
border-bottom: 1px solid white ;


}

#dialogue {
 position:absolute;
 top: 0px;
 left: 0px;
 padding: 0px;
 border: 0px;
 margin: 0px;
 width:100%;
 height:100%;
 visibility: hidden;
}

#city {
position:absolute;
top:-150px;
left:100px;

 
}

</style>

<script>

function moveBackground() {
	var value = 0 - (4000 - screen.width - 300) ; //-300 just to be safe
	document.getElementById('backImg').style.left = value;
}


</script>

</head>

<link href='https://fonts.googleapis.com/css?family=Amatic+SC:700' rel='stylesheet' type='text/css'>

<body id="body">


<img id="backImg" src="./imgs/backMap.png">

<div id="contentsHolder">

<div id="pewiTitle" style="background:black;" > <!-- hidden -->
<img src="./imgs/logo.png" />
</div>


<div id="button1" class="mainButton" onclick="startSandbox();">Sandbox</div>

<div id="button2" class="mainButton" onclick="startPlay();">Play</div>


<div id="button3" class="mainButton" onclick="startOptions();">Options</div>

</div>


<div id="container">
<video id="startVideo" width="800" height="1500px" autoplay="autoplay" style="margin-top:-300px;">
<source src="./imgs/start.webm" type="video/webm" />
loading
</video>

<div id="loadingTitle">
<img id="city" src="./imgs/citySilloute.png">
People in Ecosystems / Watershed Integration
</div>
</div>

<iframe id="dialogue"></iframe>

<script type='text/javascript'>

document.getElementById('startVideo').addEventListener('ended', function() {
 endFunction();
}, false);

function endFunction() {
 

 document.getElementById('container').style.display = "none";
 document.getElementById('pewiTitle').style.visibility = "visible";
 document.getElementById('pewiTitle').style.opacity = "1";
 document.getElementById('pewiTitle').style.top = "5%" ;
 
 document.getElementById('contentsHolder').style.opacity = "1" ;
 document.getElementById('backImg').style.opacity = "1" ;

 
 document.getElementById('button1').style.visibility = "visible";
 document.getElementById('button1').style.opacity = "1";
 document.getElementById('button2').style.visibility = "visible";
 document.getElementById('button2').style.opacity = "1";
 document.getElementById('button3').style.visibility = "visible";
 document.getElementById('button3').style.opacity = "1";

 

 setTimeout(function() {
 document.getElementById('backImg').style.transitionDuration = "90s" ; 
 document.getElementById('button1').style.transitionDuration = ".4s" ;
 document.getElementById('button2').style.transitionDuration = ".4s" ;
 document.getElementById('button3').style.transitionDuration = ".4s" ;
 document.getElementById('pewiTitle').style.transitionDuration = ".4s" ;
 
 moveBackground() ;
 
}, 50);
 
 
}

setTimeout(function() {

 var vid = document.getElementById("startVideo");
 if (!(Number(vid.currentTime) > 0)) {
  endFunction();

 }

}, 2000);


function startSandbox() {
 
 setTimeout(function() {
  
   parent.initWorkspace();
   
 }, 500);

}

function startOptions() {
 
 setTimeout(function() {
  
  document.getElementById('dialogue').src = "options.html" ;
  document.getElementById('dialogue').style.visibility = "visible" ;
  
 }, 500);
 
}

function startPlay() {
 
 setTimeout(function() {
  
  document.getElementById('dialogue').src = "play.html" ; 
  document.getElementById('dialogue').style.visibility = "visible" ;
  
 }, 500) ;

}

function reset() {
 
  document.getElementById('dialogue').src = "" ;
  document.getElementById('dialogue').style.visibility = "hidden" ;
  
 
}

  
</script>


</body>

</html>