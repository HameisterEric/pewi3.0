<html>
<head>
<style>

body{
    background-color: black;
}

</style>    

<script src="filesaver.min.js"></script>
<script src="jszip.min.js"></script> 
 
</head>    
    
<body>

<button onclick="testLoop();">Download all 6 files</button>

</body>    
      
    
<script>
var zip = new JSZip();

function download(playerNumber) {

 var a = window.document.createElement('a');
  
 var data = parent.createPlayerMap(playerNumber) ;
  
 zip.file("player" + playerNumber + ".csv", data);
  
//  a.href = window.URL.createObjectURL(new Blob([data], {type: 'text/csv'}));
//  a.download = 'player' + playerNumber + '-PEWI-MAP.csv';

//   // Append anchor to body.
//   document.body.appendChild(a)
//   a.click();    
  
}  
    
    
function testLoop() {
    
    for(var k=1; k <= 6; k++){
        download(k) ;
    }
    

 zip.generateAsync({type:"blob"})
.then(function (blob) {
    saveAs(blob, "PEWI_multi-maps.zip");
});




}    
    
</script>    
    
    
</html>